import{r as i,j as h}from"./index-AYIAK0uA.js";import{u as J,a as F,b as k,_ as Q,c as V,C as tt,P as et}from"./Preload-DjzyLx1r.js";import{O as ot,L as rt}from"./Loader-kTuo9uRN.js";import{B as st,V as O,M as $,F as G,T as N,a as X,E as K,b as nt,O as at,c as it}from"./index-0332b2ed.esm-jLApo5AU.js";import{S as lt}from"./SectionWrapper-CVrars1J.js";import{t as L}from"./index-6_o5cQ3c.js";import"./Styles-sejEAH3O.js";import"./proxy-DkAcYCHJ.js";class ct extends st{constructor(m,x,c,p){super();const l=[],E=[],T=[],w=new O,g=new $;g.makeRotationFromEuler(c),g.setPosition(x);const D=new $;D.copy(g).invert(),I(),this.setAttribute("position",new G(l,3)),this.setAttribute("normal",new G(E,3)),this.setAttribute("uv",new G(T,2));function I(){let t,e=[];const s=new O,n=new O;if(m.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const o=m.geometry,M=o.attributes.position,y=o.attributes.normal;if(o.index!==null){const u=o.index;for(t=0;t<u.count;t++)s.fromBufferAttribute(M,u.getX(t)),n.fromBufferAttribute(y,u.getX(t)),A(e,s,n)}else for(t=0;t<M.count;t++)s.fromBufferAttribute(M,t),n.fromBufferAttribute(y,t),A(e,s,n);for(e=b(e,w.set(1,0,0)),e=b(e,w.set(-1,0,0)),e=b(e,w.set(0,1,0)),e=b(e,w.set(0,-1,0)),e=b(e,w.set(0,0,1)),e=b(e,w.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];T.push(.5+u.position.x/p.x,.5+u.position.y/p.y),u.position.applyMatrix4(g),l.push(u.position.x,u.position.y,u.position.z),E.push(u.normal.x,u.normal.y,u.normal.z)}}function A(t,e,s){e.applyMatrix4(m.matrixWorld),e.applyMatrix4(D),s.transformDirection(m.matrixWorld),t.push(new q(e.clone(),s.clone()))}function b(t,e){const s=[],n=.5*Math.abs(p.dot(e));for(let o=0;o<t.length;o+=3){let M,y,u,B=0,f,d,j,z;const v=t[o+0].position.dot(e)-n,S=t[o+1].position.dot(e)-n,R=t[o+2].position.dot(e)-n;switch(M=v>0,y=S>0,u=R>0,B=(M?1:0)+(y?1:0)+(u?1:0),B){case 0:{s.push(t[o]),s.push(t[o+1]),s.push(t[o+2]);break}case 1:{if(M&&(f=t[o+1],d=t[o+2],j=a(t[o],f,e,n),z=a(t[o],d,e,n)),y){f=t[o],d=t[o+2],j=a(t[o+1],f,e,n),z=a(t[o+1],d,e,n),s.push(j),s.push(d.clone()),s.push(f.clone()),s.push(d.clone()),s.push(j.clone()),s.push(z);break}u&&(f=t[o],d=t[o+1],j=a(t[o+2],f,e,n),z=a(t[o+2],d,e,n)),s.push(f.clone()),s.push(d.clone()),s.push(j),s.push(z),s.push(j.clone()),s.push(d.clone());break}case 2:{M||(f=t[o].clone(),d=a(f,t[o+1],e,n),j=a(f,t[o+2],e,n),s.push(f),s.push(d),s.push(j)),y||(f=t[o+1].clone(),d=a(f,t[o+2],e,n),j=a(f,t[o],e,n),s.push(f),s.push(d),s.push(j)),u||(f=t[o+2].clone(),d=a(f,t[o],e,n),j=a(f,t[o+1],e,n),s.push(f),s.push(d),s.push(j));break}}}return s}function a(t,e,s,n){const o=t.position.dot(s)-n,M=e.position.dot(s)-n,y=o/(o-M);return new q(new O(t.position.x+y*(e.position.x-t.position.x),t.position.y+y*(e.position.y-t.position.y),t.position.z+y*(e.position.z-t.position.z)),new O(t.normal.x+y*(e.normal.x-t.normal.x),t.normal.y+y*(e.normal.y-t.normal.y),t.normal.z+y*(e.normal.z-t.normal.z)))}}}class q{constructor(m,x){this.position=m,this.normal=x}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const P=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function H(r,m){const x=J(l=>l.gl),c=F(N,P(r)?Object.values(r):r);return i.useLayoutEffect(()=>{m?.(c)},[m]),i.useEffect(()=>{if("initTexture"in x){let l=[];Array.isArray(c)?l=c:c instanceof X?l=[c]:P(c)&&(l=Object.values(c)),l.forEach(E=>{E instanceof X&&x.initTexture(E)})}},[x,c]),i.useMemo(()=>{if(P(r)){const l={};let E=0;for(const T in r)l[T]=c[E++];return l}else return c},[r,c])}H.preload=r=>F.preload(N,r);H.clear=r=>F.clear(N,r);function ut(r){return Array.isArray(r)}function W(r=[0,0,0]){return ut(r)?r:r instanceof O||r instanceof K?[r.x,r.y,r.z]:[r,r,r]}const ft=i.forwardRef(function({debug:m,depthTest:x=!1,polygonOffsetFactor:c=-10,map:p,mesh:l,children:E,position:T,rotation:w,scale:g,...D},I){const A=i.useRef(null);i.useImperativeHandle(I,()=>A.current);const b=i.useRef(null),a=i.useRef({position:new O,rotation:new K,scale:new O(1,1,1)});return i.useLayoutEffect(()=>{const t=l?.current||A.current.parent,e=A.current;if(!(t instanceof nt))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(t){k(a.current,{position:T,scale:g});const s=t.matrixWorld.clone();if(t.matrixWorld.identity(),!w||typeof w=="number"){const n=new at;n.position.copy(a.current.position);const o=t.geometry.attributes.position.array;t.geometry.attributes.normal===void 0&&t.geometry.computeVertexNormals();const M=t.geometry.attributes.normal.array;let y=1/0,u=new O;const B=n.position.x,f=n.position.y,d=n.position.z,j=o.length;let z=-1;for(let v=0;v<j;v+=3){const S=o[v],R=o[v+1],Y=o[v+2],U=S-B,C=R-f,_=Y-d,Z=U*U+C*C+_*_;Z<y&&(y=Z,z=v)}u.fromArray(M,z),n.lookAt(n.position.clone().add(u)),n.rotateZ(Math.PI),n.rotateY(Math.PI),typeof w=="number"&&n.rotateZ(w),k(a.current,{rotation:n.rotation})}else k(a.current,{rotation:w});return b.current&&k(b.current,a.current),e.geometry=new ct(t,a.current.position,a.current.rotation,a.current.scale),t.matrixWorld=s,()=>{e.geometry.dispose()}}},[l,...W(T),...W(g),...W(w)]),i.useLayoutEffect(()=>{b.current&&b.current.traverse(t=>t.raycast=()=>null)},[m]),i.createElement("mesh",Q({ref:A,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":c,"material-depthTest":x,"material-map":p},D),E,m&&i.createElement("mesh",{ref:b},i.createElement("boxGeometry",null),i.createElement("meshNormalMaterial",{wireframe:!0}),i.createElement("axesHelper",null)))}),mt=i.forwardRef(({children:r,enabled:m=!0,speed:x=1,rotationIntensity:c=1,floatIntensity:p=1,floatingRange:l=[-.1,.1],autoInvalidate:E=!1,...T},w)=>{const g=i.useRef(null);i.useImperativeHandle(w,()=>g.current,[]);const D=i.useRef(Math.random()*1e4);return V(I=>{var A,b;if(!m||x===0)return;E&&I.invalidate();const a=D.current+I.clock.elapsedTime;g.current.rotation.x=Math.cos(a/4*x)/8*c,g.current.rotation.y=Math.sin(a/4*x)/8*c,g.current.rotation.z=Math.sin(a/4*x)/20*c;let t=Math.sin(a/4*x)/10;t=it.mapLinear(t,-.1,.1,(A=l?.[0])!==null&&A!==void 0?A:-.1,(b=l?.[1])!==null&&b!==void 0?b:.1),g.current.position.y=t*p,g.current.updateMatrix()}),i.createElement("group",T,i.createElement("group",{ref:g,matrixAutoUpdate:!1},r))}),pt=r=>{const[m]=H([r.imgUrl]);return h.jsxs(mt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[h.jsx("ambientLight",{intensity:.5}),h.jsx("directionalLight",{position:[0,0,.05]}),h.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[h.jsx("icosahedronGeometry",{args:[1,1]}),h.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),h.jsx(ft,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:m,flatShading:!0})]})]})},dt=({icon:r})=>h.jsxs(tt,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[h.jsxs(i.Suspense,{fallback:h.jsx(rt,{}),children:[h.jsx(ot,{enableZoom:!1}),h.jsx(pt,{imgUrl:r})]}),h.jsx(et,{all:!0})]}),ht=()=>{const[r,m]=i.useState(!1),[x,c]=i.useState([]);return i.useEffect(()=>{const p=()=>{m(window.innerWidth<=768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),i.useEffect(()=>{if(r){c(L.slice(0,3));let p=3;const l=setInterval(()=>{if(p>=L.length){clearInterval(l);return}c(E=>[...E,L[p]]),p++},1500);return()=>clearInterval(l)}else c(L)},[r]),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("h2",{className:"text-secondary text-3xl font-bold mb-10",children:"Knowledge Base"}),h.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:x.map(p=>h.jsx("div",{className:"w-28 h-28",children:h.jsx(dt,{icon:p.icon})},p.name))})]})},At=lt(ht,"");export{At as default};
