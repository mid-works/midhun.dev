import{r as c,j as p}from"./index-BAfNzLqr.js";import{u as Y,a as N,b as G,_ as J,c as Q,C as V,P as tt}from"./Preload-eEeFJB85.js";import{O as et,L as ot}from"./Loader-DhUVFnt6.js";import{B as rt,V as T,M as Z,F as S,T as W,a as $,E as q,b as st,O as nt,c as at}from"./index-0332b2ed.esm-jLApo5AU.js";import{S as it}from"./SectionWrapper-B4F1A2CB.js";import{t as lt}from"./index-6_o5cQ3c.js";import"./Styles-sejEAH3O.js";import"./proxy-CaKhmefT.js";class ct extends rt{constructor(h,y,f,O){super();const u=[],M=[],E=[],b=new T,g=new Z;g.makeRotationFromEuler(f),g.setPosition(y);const B=new Z;B.copy(g).invert(),k(),this.setAttribute("position",new S(u,3)),this.setAttribute("normal",new S(M,3)),this.setAttribute("uv",new S(E,2));function k(){let t,e=[];const s=new T,n=new T;if(h.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const o=h.geometry,j=o.attributes.position,d=o.attributes.normal;if(o.index!==null){const i=o.index;for(t=0;t<i.count;t++)s.fromBufferAttribute(j,i.getX(t)),n.fromBufferAttribute(d,i.getX(t)),A(e,s,n)}else for(t=0;t<j.count;t++)s.fromBufferAttribute(j,t),n.fromBufferAttribute(d,t),A(e,s,n);for(e=x(e,b.set(1,0,0)),e=x(e,b.set(-1,0,0)),e=x(e,b.set(0,1,0)),e=x(e,b.set(0,-1,0)),e=x(e,b.set(0,0,1)),e=x(e,b.set(0,0,-1)),t=0;t<e.length;t++){const i=e[t];E.push(.5+i.position.x/O.x,.5+i.position.y/O.y),i.position.applyMatrix4(g),u.push(i.position.x,i.position.y,i.position.z),M.push(i.normal.x,i.normal.y,i.normal.z)}}function A(t,e,s){e.applyMatrix4(h.matrixWorld),e.applyMatrix4(B),s.transformDirection(h.matrixWorld),t.push(new X(e.clone(),s.clone()))}function x(t,e){const s=[],n=.5*Math.abs(O.dot(e));for(let o=0;o<t.length;o+=3){let j,d,i,R=0,l,m,w,D;const z=t[o+0].position.dot(e)-n,I=t[o+1].position.dot(e)-n,L=t[o+2].position.dot(e)-n;switch(j=z>0,d=I>0,i=L>0,R=(j?1:0)+(d?1:0)+(i?1:0),R){case 0:{s.push(t[o]),s.push(t[o+1]),s.push(t[o+2]);break}case 1:{if(j&&(l=t[o+1],m=t[o+2],w=a(t[o],l,e,n),D=a(t[o],m,e,n)),d){l=t[o],m=t[o+2],w=a(t[o+1],l,e,n),D=a(t[o+1],m,e,n),s.push(w),s.push(m.clone()),s.push(l.clone()),s.push(m.clone()),s.push(w.clone()),s.push(D);break}i&&(l=t[o],m=t[o+1],w=a(t[o+2],l,e,n),D=a(t[o+2],m,e,n)),s.push(l.clone()),s.push(m.clone()),s.push(w),s.push(D),s.push(w.clone()),s.push(m.clone());break}case 2:{j||(l=t[o].clone(),m=a(l,t[o+1],e,n),w=a(l,t[o+2],e,n),s.push(l),s.push(m),s.push(w)),d||(l=t[o+1].clone(),m=a(l,t[o+2],e,n),w=a(l,t[o],e,n),s.push(l),s.push(m),s.push(w)),i||(l=t[o+2].clone(),m=a(l,t[o],e,n),w=a(l,t[o+1],e,n),s.push(l),s.push(m),s.push(w));break}}}return s}function a(t,e,s,n){const o=t.position.dot(s)-n,j=e.position.dot(s)-n,d=o/(o-j);return new X(new T(t.position.x+d*(e.position.x-t.position.x),t.position.y+d*(e.position.y-t.position.y),t.position.z+d*(e.position.z-t.position.z)),new T(t.normal.x+d*(e.normal.x-t.normal.x),t.normal.y+d*(e.normal.y-t.normal.y),t.normal.z+d*(e.normal.z-t.normal.z)))}}}class X{constructor(h,y){this.position=h,this.normal=y}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const P=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function v(r,h){const y=Y(u=>u.gl),f=N(W,P(r)?Object.values(r):r);return c.useLayoutEffect(()=>{h?.(f)},[h]),c.useEffect(()=>{if("initTexture"in y){let u=[];Array.isArray(f)?u=f:f instanceof $?u=[f]:P(f)&&(u=Object.values(f)),u.forEach(M=>{M instanceof $&&y.initTexture(M)})}},[y,f]),c.useMemo(()=>{if(P(r)){const u={};let M=0;for(const E in r)u[E]=f[M++];return u}else return f},[r,f])}v.preload=r=>N.preload(W,r);v.clear=r=>N.clear(W,r);function ut(r){return Array.isArray(r)}function F(r=[0,0,0]){return ut(r)?r:r instanceof T||r instanceof q?[r.x,r.y,r.z]:[r,r,r]}const ft=c.forwardRef(function({debug:h,depthTest:y=!1,polygonOffsetFactor:f=-10,map:O,mesh:u,children:M,position:E,rotation:b,scale:g,...B},k){const A=c.useRef(null);c.useImperativeHandle(k,()=>A.current);const x=c.useRef(null),a=c.useRef({position:new T,rotation:new q,scale:new T(1,1,1)});return c.useLayoutEffect(()=>{const t=u?.current||A.current.parent,e=A.current;if(!(t instanceof st))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(t){G(a.current,{position:E,scale:g});const s=t.matrixWorld.clone();if(t.matrixWorld.identity(),!b||typeof b=="number"){const n=new nt;n.position.copy(a.current.position);const o=t.geometry.attributes.position.array;t.geometry.attributes.normal===void 0&&t.geometry.computeVertexNormals();const j=t.geometry.attributes.normal.array;let d=1/0,i=new T;const R=n.position.x,l=n.position.y,m=n.position.z,w=o.length;let D=-1;for(let z=0;z<w;z+=3){const I=o[z],L=o[z+1],K=o[z+2],H=I-R,U=L-l,C=K-m,_=H*H+U*U+C*C;_<d&&(d=_,D=z)}i.fromArray(j,D),n.lookAt(n.position.clone().add(i)),n.rotateZ(Math.PI),n.rotateY(Math.PI),typeof b=="number"&&n.rotateZ(b),G(a.current,{rotation:n.rotation})}else G(a.current,{rotation:b});return x.current&&G(x.current,a.current),e.geometry=new ct(t,a.current.position,a.current.rotation,a.current.scale),t.matrixWorld=s,()=>{e.geometry.dispose()}}},[u,...F(E),...F(g),...F(b)]),c.useLayoutEffect(()=>{x.current&&x.current.traverse(t=>t.raycast=()=>null)},[h]),c.createElement("mesh",J({ref:A,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":f,"material-depthTest":y,"material-map":O},B),M,h&&c.createElement("mesh",{ref:x},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),mt=c.forwardRef(({children:r,enabled:h=!0,speed:y=1,rotationIntensity:f=1,floatIntensity:O=1,floatingRange:u=[-.1,.1],autoInvalidate:M=!1,...E},b)=>{const g=c.useRef(null);c.useImperativeHandle(b,()=>g.current,[]);const B=c.useRef(Math.random()*1e4);return Q(k=>{var A,x;if(!h||y===0)return;M&&k.invalidate();const a=B.current+k.clock.elapsedTime;g.current.rotation.x=Math.cos(a/4*y)/8*f,g.current.rotation.y=Math.sin(a/4*y)/8*f,g.current.rotation.z=Math.sin(a/4*y)/20*f;let t=Math.sin(a/4*y)/10;t=at.mapLinear(t,-.1,.1,(A=u?.[0])!==null&&A!==void 0?A:-.1,(x=u?.[1])!==null&&x!==void 0?x:.1),g.current.position.y=t*O,g.current.updateMatrix()}),c.createElement("group",E,c.createElement("group",{ref:g,matrixAutoUpdate:!1},r))}),pt=r=>{const[h]=v([r.imgUrl]);return p.jsxs(mt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[p.jsx("ambientLight",{intensity:.5}),p.jsx("directionalLight",{position:[0,0,.05]}),p.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[p.jsx("icosahedronGeometry",{args:[1,1]}),p.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),p.jsx(ft,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:h,flatShading:!0})]})]})},ht=({icon:r})=>p.jsxs(V,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[p.jsxs(c.Suspense,{fallback:p.jsx(ot,{}),children:[p.jsx(et,{enableZoom:!1}),p.jsx(pt,{imgUrl:r})]}),p.jsx(tt,{all:!0})]}),dt=()=>p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h2",{className:"text-secondary text-3xl font-bold mb-10",children:"Knowledge Base"}),p.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:lt.map(r=>p.jsx("div",{className:"w-28 h-28",children:p.jsx(ht,{icon:r.icon})},r.name))})]}),Et=it(dt,"");export{Et as default};
