import{r as i,j as d}from"./index-BoiFjTab.js";import{u as J,a as N,b as v,_ as Q,c as V,C as tt,P as et}from"./Preload-Ddft0I7F.js";import{O as ot,L as rt}from"./Loader-HgWW016O.js";import{B as st,V as O,M as $,F as G,T as W,a as X,E as K,b as nt,O as at,c as it}from"./index-0332b2ed.esm-jLApo5AU.js";import{S as lt}from"./SectionWrapper-57_Is7Na.js";import{t as L}from"./index-6_o5cQ3c.js";import"./Styles-sejEAH3O.js";import"./proxy-BRedNVxy.js";class ct extends st{constructor(p,u,f,E){super();const m=[],M=[],T=[],b=new O,g=new $;g.makeRotationFromEuler(f),g.setPosition(u);const B=new $;B.copy(g).invert(),I(),this.setAttribute("position",new G(m,3)),this.setAttribute("normal",new G(M,3)),this.setAttribute("uv",new G(T,2));function I(){let t,e=[];const s=new O,n=new O;if(p.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const o=p.geometry,j=o.attributes.position,x=o.attributes.normal;if(o.index!==null){const l=o.index;for(t=0;t<l.count;t++)s.fromBufferAttribute(j,l.getX(t)),n.fromBufferAttribute(x,l.getX(t)),A(e,s,n)}else for(t=0;t<j.count;t++)s.fromBufferAttribute(j,t),n.fromBufferAttribute(x,t),A(e,s,n);for(e=y(e,b.set(1,0,0)),e=y(e,b.set(-1,0,0)),e=y(e,b.set(0,1,0)),e=y(e,b.set(0,-1,0)),e=y(e,b.set(0,0,1)),e=y(e,b.set(0,0,-1)),t=0;t<e.length;t++){const l=e[t];T.push(.5+l.position.x/E.x,.5+l.position.y/E.y),l.position.applyMatrix4(g),m.push(l.position.x,l.position.y,l.position.z),M.push(l.normal.x,l.normal.y,l.normal.z)}}function A(t,e,s){e.applyMatrix4(p.matrixWorld),e.applyMatrix4(B),s.transformDirection(p.matrixWorld),t.push(new q(e.clone(),s.clone()))}function y(t,e){const s=[],n=.5*Math.abs(E.dot(e));for(let o=0;o<t.length;o+=3){let j,x,l,k=0,c,h,w,D;const z=t[o+0].position.dot(e)-n,R=t[o+1].position.dot(e)-n,S=t[o+2].position.dot(e)-n;switch(j=z>0,x=R>0,l=S>0,k=(j?1:0)+(x?1:0)+(l?1:0),k){case 0:{s.push(t[o]),s.push(t[o+1]),s.push(t[o+2]);break}case 1:{if(j&&(c=t[o+1],h=t[o+2],w=a(t[o],c,e,n),D=a(t[o],h,e,n)),x){c=t[o],h=t[o+2],w=a(t[o+1],c,e,n),D=a(t[o+1],h,e,n),s.push(w),s.push(h.clone()),s.push(c.clone()),s.push(h.clone()),s.push(w.clone()),s.push(D);break}l&&(c=t[o],h=t[o+1],w=a(t[o+2],c,e,n),D=a(t[o+2],h,e,n)),s.push(c.clone()),s.push(h.clone()),s.push(w),s.push(D),s.push(w.clone()),s.push(h.clone());break}case 2:{j||(c=t[o].clone(),h=a(c,t[o+1],e,n),w=a(c,t[o+2],e,n),s.push(c),s.push(h),s.push(w)),x||(c=t[o+1].clone(),h=a(c,t[o+2],e,n),w=a(c,t[o],e,n),s.push(c),s.push(h),s.push(w)),l||(c=t[o+2].clone(),h=a(c,t[o],e,n),w=a(c,t[o+1],e,n),s.push(c),s.push(h),s.push(w));break}}}return s}function a(t,e,s,n){const o=t.position.dot(s)-n,j=e.position.dot(s)-n,x=o/(o-j);return new q(new O(t.position.x+x*(e.position.x-t.position.x),t.position.y+x*(e.position.y-t.position.y),t.position.z+x*(e.position.z-t.position.z)),new O(t.normal.x+x*(e.normal.x-t.normal.x),t.normal.y+x*(e.normal.y-t.normal.y),t.normal.z+x*(e.normal.z-t.normal.z)))}}}class q{constructor(p,u){this.position=p,this.normal=u}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const P=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function C(r,p){const u=J(m=>m.gl),f=N(W,P(r)?Object.values(r):r);return i.useLayoutEffect(()=>{p?.(f)},[p]),i.useEffect(()=>{if("initTexture"in u){let m=[];Array.isArray(f)?m=f:f instanceof X?m=[f]:P(f)&&(m=Object.values(f)),m.forEach(M=>{M instanceof X&&u.initTexture(M)})}},[u,f]),i.useMemo(()=>{if(P(r)){const m={};let M=0;for(const T in r)m[T]=f[M++];return m}else return f},[r,f])}C.preload=r=>N.preload(W,r);C.clear=r=>N.clear(W,r);function ut(r){return Array.isArray(r)}function F(r=[0,0,0]){return ut(r)?r:r instanceof O||r instanceof K?[r.x,r.y,r.z]:[r,r,r]}const ft=i.forwardRef(function({debug:p,depthTest:u=!1,polygonOffsetFactor:f=-10,map:E,mesh:m,children:M,position:T,rotation:b,scale:g,...B},I){const A=i.useRef(null);i.useImperativeHandle(I,()=>A.current);const y=i.useRef(null),a=i.useRef({position:new O,rotation:new K,scale:new O(1,1,1)});return i.useLayoutEffect(()=>{const t=m?.current||A.current.parent,e=A.current;if(!(t instanceof nt))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(t){v(a.current,{position:T,scale:g});const s=t.matrixWorld.clone();if(t.matrixWorld.identity(),!b||typeof b=="number"){const n=new at;n.position.copy(a.current.position);const o=t.geometry.attributes.position.array;t.geometry.attributes.normal===void 0&&t.geometry.computeVertexNormals();const j=t.geometry.attributes.normal.array;let x=1/0,l=new O;const k=n.position.x,c=n.position.y,h=n.position.z,w=o.length;let D=-1;for(let z=0;z<w;z+=3){const R=o[z],S=o[z+1],Y=o[z+2],H=R-k,U=S-c,_=Y-h,Z=H*H+U*U+_*_;Z<x&&(x=Z,D=z)}l.fromArray(j,D),n.lookAt(n.position.clone().add(l)),n.rotateZ(Math.PI),n.rotateY(Math.PI),typeof b=="number"&&n.rotateZ(b),v(a.current,{rotation:n.rotation})}else v(a.current,{rotation:b});return y.current&&v(y.current,a.current),e.geometry=new ct(t,a.current.position,a.current.rotation,a.current.scale),t.matrixWorld=s,()=>{e.geometry.dispose()}}},[m,...F(T),...F(g),...F(b)]),i.useLayoutEffect(()=>{y.current&&y.current.traverse(t=>t.raycast=()=>null)},[p]),i.createElement("mesh",Q({ref:A,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":f,"material-depthTest":u,"material-map":E},B),M,p&&i.createElement("mesh",{ref:y},i.createElement("boxGeometry",null),i.createElement("meshNormalMaterial",{wireframe:!0}),i.createElement("axesHelper",null)))}),mt=i.forwardRef(({children:r,enabled:p=!0,speed:u=1,rotationIntensity:f=1,floatIntensity:E=1,floatingRange:m=[-.1,.1],autoInvalidate:M=!1,...T},b)=>{const g=i.useRef(null);i.useImperativeHandle(b,()=>g.current,[]);const B=i.useRef(Math.random()*1e4);return V(I=>{var A,y;if(!p||u===0)return;M&&I.invalidate();const a=B.current+I.clock.elapsedTime;g.current.rotation.x=Math.cos(a/4*u)/8*f,g.current.rotation.y=Math.sin(a/4*u)/8*f,g.current.rotation.z=Math.sin(a/4*u)/20*f;let t=Math.sin(a/4*u)/10;t=it.mapLinear(t,-.1,.1,(A=m?.[0])!==null&&A!==void 0?A:-.1,(y=m?.[1])!==null&&y!==void 0?y:.1),g.current.position.y=t*E,g.current.updateMatrix()}),i.createElement("group",T,i.createElement("group",{ref:g,matrixAutoUpdate:!1},r))}),pt=r=>{const[p]=C([r.imgUrl]);return d.jsxs(mt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[d.jsx("ambientLight",{intensity:.5}),d.jsx("directionalLight",{position:[0,0,.05]}),d.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[d.jsx("icosahedronGeometry",{args:[1,1]}),d.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),d.jsx(ft,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:p,flatShading:!0})]})]})},ht=({icon:r})=>d.jsxs(tt,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[d.jsxs(i.Suspense,{fallback:d.jsx(rt,{}),children:[d.jsx(ot,{enableZoom:!1}),d.jsx(pt,{imgUrl:r})]}),d.jsx(et,{all:!0})]}),dt=()=>{const[r,p]=i.useState(0);return i.useEffect(()=>{const u=setInterval(()=>{p(f=>{const E=f+2;return E<L.length?E:(clearInterval(u),L.length)})},800);return()=>clearInterval(u)},[]),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h2",{className:"text-secondary text-3xl font-bold mb-10",children:"Knowledge Base"}),d.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:L.slice(0,r).map(u=>d.jsx("div",{className:"w-28 h-28",children:d.jsx(ht,{icon:u.icon})},u.name))})]})},At=lt(dt,"");export{At as default};
