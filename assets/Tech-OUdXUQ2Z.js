import{r as l,j as h}from"./index-DXQ4LTnn.js";import{u as J,a as W,b as v,_ as Q,c as V,C as tt,P as et}from"./Preload-B6wSj7YA.js";import{O as ot,L as rt}from"./Loader-DQTFcmZT.js";import{B as st,V as T,M as Z,F as R,T as F,a as $,E as K,b as nt,O as at,c as it}from"./index-0332b2ed.esm-jLApo5AU.js";import{S as lt}from"./SectionWrapper-nuwFQ2Cw.js";import{t as X}from"./index-6_o5cQ3c.js";import"./Styles-sejEAH3O.js";import"./proxy-BKMdiHR9.js";class ct extends st{constructor(u,c,a,O){super();const p=[],E=[],A=[],b=new T,w=new Z;w.makeRotationFromEuler(a),w.setPosition(c);const I=new Z;I.copy(w).invert(),B(),this.setAttribute("position",new R(p,3)),this.setAttribute("normal",new R(E,3)),this.setAttribute("uv",new R(A,2));function B(){let t,e=[];const s=new T,n=new T;if(u.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const o=u.geometry,j=o.attributes.position,x=o.attributes.normal;if(o.index!==null){const f=o.index;for(t=0;t<f.count;t++)s.fromBufferAttribute(j,f.getX(t)),n.fromBufferAttribute(x,f.getX(t)),M(e,s,n)}else for(t=0;t<j.count;t++)s.fromBufferAttribute(j,t),n.fromBufferAttribute(x,t),M(e,s,n);for(e=y(e,b.set(1,0,0)),e=y(e,b.set(-1,0,0)),e=y(e,b.set(0,1,0)),e=y(e,b.set(0,-1,0)),e=y(e,b.set(0,0,1)),e=y(e,b.set(0,0,-1)),t=0;t<e.length;t++){const f=e[t];A.push(.5+f.position.x/O.x,.5+f.position.y/O.y),f.position.applyMatrix4(w),p.push(f.position.x,f.position.y,f.position.z),E.push(f.normal.x,f.normal.y,f.normal.z)}}function M(t,e,s){e.applyMatrix4(u.matrixWorld),e.applyMatrix4(I),s.transformDirection(u.matrixWorld),t.push(new q(e.clone(),s.clone()))}function y(t,e){const s=[],n=.5*Math.abs(O.dot(e));for(let o=0;o<t.length;o+=3){let j,x,f,k=0,m,d,g,z;const D=t[o+0].position.dot(e)-n,L=t[o+1].position.dot(e)-n,S=t[o+2].position.dot(e)-n;switch(j=D>0,x=L>0,f=S>0,k=(j?1:0)+(x?1:0)+(f?1:0),k){case 0:{s.push(t[o]),s.push(t[o+1]),s.push(t[o+2]);break}case 1:{if(j&&(m=t[o+1],d=t[o+2],g=i(t[o],m,e,n),z=i(t[o],d,e,n)),x){m=t[o],d=t[o+2],g=i(t[o+1],m,e,n),z=i(t[o+1],d,e,n),s.push(g),s.push(d.clone()),s.push(m.clone()),s.push(d.clone()),s.push(g.clone()),s.push(z);break}f&&(m=t[o],d=t[o+1],g=i(t[o+2],m,e,n),z=i(t[o+2],d,e,n)),s.push(m.clone()),s.push(d.clone()),s.push(g),s.push(z),s.push(g.clone()),s.push(d.clone());break}case 2:{j||(m=t[o].clone(),d=i(m,t[o+1],e,n),g=i(m,t[o+2],e,n),s.push(m),s.push(d),s.push(g)),x||(m=t[o+1].clone(),d=i(m,t[o+2],e,n),g=i(m,t[o],e,n),s.push(m),s.push(d),s.push(g)),f||(m=t[o+2].clone(),d=i(m,t[o],e,n),g=i(m,t[o+1],e,n),s.push(m),s.push(d),s.push(g));break}}}return s}function i(t,e,s,n){const o=t.position.dot(s)-n,j=e.position.dot(s)-n,x=o/(o-j);return new q(new T(t.position.x+x*(e.position.x-t.position.x),t.position.y+x*(e.position.y-t.position.y),t.position.z+x*(e.position.z-t.position.z)),new T(t.normal.x+x*(e.normal.x-t.normal.x),t.normal.y+x*(e.normal.y-t.normal.y),t.normal.z+x*(e.normal.z-t.normal.z)))}}}class q{constructor(u,c){this.position=u,this.normal=c}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const G=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function N(r,u){const c=J(p=>p.gl),a=W(F,G(r)?Object.values(r):r);return l.useLayoutEffect(()=>{u?.(a)},[u]),l.useEffect(()=>{if("initTexture"in c){let p=[];Array.isArray(a)?p=a:a instanceof $?p=[a]:G(a)&&(p=Object.values(a)),p.forEach(E=>{E instanceof $&&c.initTexture(E)})}},[c,a]),l.useMemo(()=>{if(G(r)){const p={};let E=0;for(const A in r)p[A]=a[E++];return p}else return a},[r,a])}N.preload=r=>W.preload(F,r);N.clear=r=>W.clear(F,r);function ut(r){return Array.isArray(r)}function P(r=[0,0,0]){return ut(r)?r:r instanceof T||r instanceof K?[r.x,r.y,r.z]:[r,r,r]}const ft=l.forwardRef(function({debug:u,depthTest:c=!1,polygonOffsetFactor:a=-10,map:O,mesh:p,children:E,position:A,rotation:b,scale:w,...I},B){const M=l.useRef(null);l.useImperativeHandle(B,()=>M.current);const y=l.useRef(null),i=l.useRef({position:new T,rotation:new K,scale:new T(1,1,1)});return l.useLayoutEffect(()=>{const t=p?.current||M.current.parent,e=M.current;if(!(t instanceof nt))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(t){v(i.current,{position:A,scale:w});const s=t.matrixWorld.clone();if(t.matrixWorld.identity(),!b||typeof b=="number"){const n=new at;n.position.copy(i.current.position);const o=t.geometry.attributes.position.array;t.geometry.attributes.normal===void 0&&t.geometry.computeVertexNormals();const j=t.geometry.attributes.normal.array;let x=1/0,f=new T;const k=n.position.x,m=n.position.y,d=n.position.z,g=o.length;let z=-1;for(let D=0;D<g;D+=3){const L=o[D],S=o[D+1],Y=o[D+2],C=L-k,H=S-m,U=Y-d,_=C*C+H*H+U*U;_<x&&(x=_,z=D)}f.fromArray(j,z),n.lookAt(n.position.clone().add(f)),n.rotateZ(Math.PI),n.rotateY(Math.PI),typeof b=="number"&&n.rotateZ(b),v(i.current,{rotation:n.rotation})}else v(i.current,{rotation:b});return y.current&&v(y.current,i.current),e.geometry=new ct(t,i.current.position,i.current.rotation,i.current.scale),t.matrixWorld=s,()=>{e.geometry.dispose()}}},[p,...P(A),...P(w),...P(b)]),l.useLayoutEffect(()=>{y.current&&y.current.traverse(t=>t.raycast=()=>null)},[u]),l.createElement("mesh",Q({ref:M,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":a,"material-depthTest":c,"material-map":O},I),E,u&&l.createElement("mesh",{ref:y},l.createElement("boxGeometry",null),l.createElement("meshNormalMaterial",{wireframe:!0}),l.createElement("axesHelper",null)))}),mt=l.forwardRef(({children:r,enabled:u=!0,speed:c=1,rotationIntensity:a=1,floatIntensity:O=1,floatingRange:p=[-.1,.1],autoInvalidate:E=!1,...A},b)=>{const w=l.useRef(null);l.useImperativeHandle(b,()=>w.current,[]);const I=l.useRef(Math.random()*1e4);return V(B=>{var M,y;if(!u||c===0)return;E&&B.invalidate();const i=I.current+B.clock.elapsedTime;w.current.rotation.x=Math.cos(i/4*c)/8*a,w.current.rotation.y=Math.sin(i/4*c)/8*a,w.current.rotation.z=Math.sin(i/4*c)/20*a;let t=Math.sin(i/4*c)/10;t=it.mapLinear(t,-.1,.1,(M=p?.[0])!==null&&M!==void 0?M:-.1,(y=p?.[1])!==null&&y!==void 0?y:.1),w.current.position.y=t*O,w.current.updateMatrix()}),l.createElement("group",A,l.createElement("group",{ref:w,matrixAutoUpdate:!1},r))}),pt=r=>{const[u]=N([r.imgUrl]);return h.jsxs(mt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[h.jsx("ambientLight",{intensity:.5}),h.jsx("directionalLight",{position:[0,0,.05]}),h.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[h.jsx("icosahedronGeometry",{args:[1,1]}),h.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),h.jsx(ft,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:u,flatShading:!0})]})]})},dt=({icon:r})=>{const[u,c]=l.useState(!1);return l.useEffect(()=>{const a=()=>c(window.innerWidth<=768);return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),h.jsxs(tt,{frameloop:"demand",dpr:u?[1]:[1,2],gl:u?{antialias:!1}:{preserveDrawingBuffer:!0},children:[h.jsxs(l.Suspense,{fallback:h.jsx(rt,{}),children:[h.jsx(ot,{enableZoom:!1}),h.jsx(pt,{imgUrl:r})]}),h.jsx(et,{all:!0})]})},ht=()=>{const[r,u]=l.useState(2);return l.useEffect(()=>{const c=setInterval(()=>{u(a=>a>=X.length?(clearInterval(c),a):a+2)},1200);return()=>clearInterval(c)},[]),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("h2",{className:"text-secondary text-3xl font-bold mb-10",children:"Knowledge Base"}),h.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:X.slice(0,r).map(c=>h.jsx("div",{className:"w-28 h-28",children:h.jsx(dt,{icon:c.icon})},c.name))})]})},At=lt(ht,"");export{At as default};
